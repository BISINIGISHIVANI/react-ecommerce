{"ast":null,"code":"import { addToCartService, updateCartService, removeFromCartService } from \"../../../services/cart-services/cart.service\";\nexport const addToCartHandler = async (product, cartDispatch, token) => {\n  try {\n    const response = await addToCartService(product, token);\n\n    if (response.status === 201) {\n      cartDispatch({\n        type: \"ADD_TO_CART\",\n        payload: response.data.cart\n      });\n    } else {\n      throw new Error();\n    }\n  } catch (error) {\n    alert(error);\n  }\n};\nexport const getCartBill = cart => {\n  const cartQuantity = cart.reduce((acc, curr) => acc + Number(curr.quantity), 0);\n  const itemsPrice = cart.reduce((acc, curr) => acc + Number(curr.price * curr.quantity), 0);\n  const totalPrice = itemsPrice - 100;\n  return {\n    cartQuantity,\n    itemsPrice,\n    totalPrice\n  };\n};\nexport const updateCartHandler = async (_id, actionType, token, cartDispatch) => {\n  try {\n    const response = await updateCartService(_id, actionType, token);\n\n    if (response.status === 200) {\n      cartDispatch({\n        type: \"UPDATE_CART_ITEM\",\n        payload: response.data.cart\n      });\n    } else {\n      throw new Error();\n    }\n  } catch (error) {\n    alert(error);\n  }\n};\nexport const removeFromCartHandler = async (_id, token, cartDispatch) => {\n  try {\n    const response = await removeFromCartService(_id, token);\n\n    if (response.status === 200) {\n      cartDispatch({\n        type: \"REMOVE_FROM_CART\",\n        payload: response.data.cart\n      });\n    } else {\n      throw new Error();\n    }\n  } catch (error) {\n    alert(error);\n  }\n};","map":{"version":3,"sources":["F:/git-practice/react-ecommerce/flip-shop_app/src/hooks/utilis/cart-utils/cart-util.jsx"],"names":["addToCartService","updateCartService","removeFromCartService","addToCartHandler","product","cartDispatch","token","response","status","type","payload","data","cart","Error","error","alert","getCartBill","cartQuantity","reduce","acc","curr","Number","quantity","itemsPrice","price","totalPrice","updateCartHandler","_id","actionType","removeFromCartHandler"],"mappings":"AAAA,SAASA,gBAAT,EAA0BC,iBAA1B,EAA4CC,qBAA5C,QAAyE,8CAAzE;AAEA,OAAO,MAAMC,gBAAgB,GAAG,OAAOC,OAAP,EAAgBC,YAAhB,EAA8BC,KAA9B,KAAwC;AACpE,MAAI;AACA,UAAMC,QAAQ,GAAG,MAAMP,gBAAgB,CAACI,OAAD,EAAUE,KAAV,CAAvC;;AACA,QAAIC,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzBH,MAAAA,YAAY,CAAC;AAAEI,QAAAA,IAAI,EAAE,aAAR;AAAuBC,QAAAA,OAAO,EAAEH,QAAQ,CAACI,IAAT,CAAcC;AAA9C,OAAD,CAAZ;AACH,KAFD,MAGK;AACD,YAAM,IAAIC,KAAJ,EAAN;AACH;AACJ,GARD,CASA,OAAOC,KAAP,EAAc;AACVC,IAAAA,KAAK,CAACD,KAAD,CAAL;AACH;AACJ,CAbM;AAeP,OAAO,MAAME,WAAW,GAAIJ,IAAD,IAAU;AACjC,QAAMK,YAAY,GAAGL,IAAI,CAACM,MAAL,CAAY,CAACC,GAAD,EAAMC,IAAN,KAAeD,GAAG,GAAGE,MAAM,CAACD,IAAI,CAACE,QAAN,CAAvC,EAAwD,CAAxD,CAArB;AACA,QAAMC,UAAU,GAAGX,IAAI,CAACM,MAAL,CAAY,CAACC,GAAD,EAAMC,IAAN,KAAeD,GAAG,GAAGE,MAAM,CAACD,IAAI,CAACI,KAAL,GAAaJ,IAAI,CAACE,QAAnB,CAAvC,EAAqE,CAArE,CAAnB;AACA,QAAMG,UAAU,GAAGF,UAAU,GAAG,GAAhC;AACA,SAAO;AAAEN,IAAAA,YAAF;AAAgBM,IAAAA,UAAhB;AAA4BE,IAAAA;AAA5B,GAAP;AACH,CALM;AAMP,OAAO,MAAMC,iBAAiB,GAAG,OAAOC,GAAP,EAAYC,UAAZ,EAAwBtB,KAAxB,EAA+BD,YAA/B,KAAgD;AAC7E,MAAI;AACA,UAAME,QAAQ,GAAG,MAAMN,iBAAiB,CAAC0B,GAAD,EAAMC,UAAN,EAAkBtB,KAAlB,CAAxC;;AACA,QAAIC,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzBH,MAAAA,YAAY,CAAC;AAAEI,QAAAA,IAAI,EAAE,kBAAR;AAA4BC,QAAAA,OAAO,EAAEH,QAAQ,CAACI,IAAT,CAAcC;AAAnD,OAAD,CAAZ;AACH,KAFD,MAGK;AACD,YAAM,IAAIC,KAAJ,EAAN;AACH;AACJ,GARD,CASA,OAAOC,KAAP,EAAc;AACVC,IAAAA,KAAK,CAACD,KAAD,CAAL;AACH;AACJ,CAbM;AAcP,OAAO,MAAMe,qBAAqB,GAAG,OAAOF,GAAP,EAAYrB,KAAZ,EAAmBD,YAAnB,KAAoC;AACrE,MAAI;AACA,UAAME,QAAQ,GAAG,MAAML,qBAAqB,CAACyB,GAAD,EAAMrB,KAAN,CAA5C;;AACA,QAAIC,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzBH,MAAAA,YAAY,CAAC;AAAEI,QAAAA,IAAI,EAAE,kBAAR;AAA4BC,QAAAA,OAAO,EAAEH,QAAQ,CAACI,IAAT,CAAcC;AAAnD,OAAD,CAAZ;AACH,KAFD,MAGK;AACD,YAAM,IAAIC,KAAJ,EAAN;AACH;AACJ,GARD,CASA,OAAOC,KAAP,EAAc;AACVC,IAAAA,KAAK,CAACD,KAAD,CAAL;AACH;AACJ,CAbM","sourcesContent":["import { addToCartService,updateCartService,removeFromCartService } from \"../../../services/cart-services/cart.service\";\r\n\r\nexport const addToCartHandler = async (product, cartDispatch, token) => {\r\n    try {\r\n        const response = await addToCartService(product, token);\r\n        if (response.status === 201) {\r\n            cartDispatch({ type: \"ADD_TO_CART\", payload: response.data.cart })\r\n        }\r\n        else {\r\n            throw new Error();\r\n        }\r\n    }\r\n    catch (error) {\r\n        alert(error);\r\n    }\r\n}\r\n\r\nexport const getCartBill = (cart) => {\r\n    const cartQuantity = cart.reduce((acc, curr) => acc + Number(curr.quantity), 0);\r\n    const itemsPrice = cart.reduce((acc, curr) => acc + Number(curr.price * curr.quantity), 0);\r\n    const totalPrice = itemsPrice - 100;\r\n    return { cartQuantity, itemsPrice, totalPrice };\r\n}\r\nexport const updateCartHandler = async (_id, actionType, token, cartDispatch) => {\r\n    try {\r\n        const response = await updateCartService(_id, actionType, token);\r\n        if (response.status === 200) {\r\n            cartDispatch({ type: \"UPDATE_CART_ITEM\", payload: response.data.cart });\r\n        }\r\n        else {\r\n            throw new Error();\r\n        }\r\n    }\r\n    catch (error) {\r\n        alert(error);\r\n    }\r\n}\r\nexport const removeFromCartHandler = async (_id, token, cartDispatch) => {\r\n    try {\r\n        const response = await removeFromCartService(_id, token);\r\n        if (response.status === 200) {\r\n            cartDispatch({ type: \"REMOVE_FROM_CART\", payload: response.data.cart });\r\n        }\r\n        else {\r\n            throw new Error();\r\n        }\r\n    }\r\n    catch (error) {\r\n        alert(error);\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}